
<html>
    <head>
        <meta charset="utf-8">
        <meta name= "viewport" content="width=device-width, initial-scale=1.0">
        <title>Estadisticas Globales</title>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&family=Roboto:wght@300&display=swap" rel="stylesheet">
        {% load static%}
        <link rel="stylesheet" href="{% static 'style3.css'%}">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body style="background-color:#120A1F;">
    <section id="nav-bar">
    <nav class="navbar navbar-expand-lg navbar-light">
      {% load static %}
      <a class="navbar-brand" href="#"><img src="{% static 'images/logo.png'%}"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fa fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#Indicadores">INDICADORES</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'juega' %}">JUEGO</a>
          </li>
        </ul>
      </div>
    </nav>
    </section>  
        
    <!----------Puzzlevid--------->   
    
    <section id="Indicadores">
    <div class="container">
    <br>
    <br>
    {% load static %}
    <center><img src="{% static 'images/analitycs.png'%}"class="banner-img"></center>
    <h1 class="title text-center">Indicadores Globales</h1>
    <div class="container text-center">
          <h3>Aquí puedes consultar las puntuaciones de diferentes categorías</h3>
          </div> 
    </div>  

    <h3>Score Máximo</h3>
    <ul class="userlist">
        <br>
        <li>Minutos jugados: {{data.minutos_jugados}}</li>
        <li>Promedio de minutos jugados por sesión: {{data.promedio_min_sesion}}</li>
        <li>Enemigos eliminados: {{data.enemigos_eliminados}} </li>
        <li>Top Five Scores: {{data.top_five_scores}} </li>
        <li>Duracion promedio: {{data.duracion_promedio}}</li>
      </ul>
    <div class="scores"></div>
      
    <h3>Mayor tiempo jugado</h3>

    <h3>Duracion promedio de juego</h3>

    <h3>Record minimo de terminacion de juego</h3>
    </section>
    
    </body>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
        google.charts.load('current', {'packages':['corechart']});
        google.charts.load('current', {'packages':['treemap']});
        google.charts.setOnLoadCallback(createCharts);

        let scores = {{ data.top_five_scores }};
        console.log(scores);
        function createCharts(){
            scoresChart()
        }

        function scoresChart() {
            var age = google.visualization.arrayToDataTable([
              ['Lugares', 'Score'],
              ['1', scores[0]],
              ['2', scores[1]],
            ]);
            var options = {
                bar: {groupWidth: "95%"},
                legend: "none",
                backgroundColor: 'transparent',
                hAxis: {
                    textStyle: {
                        color: "#FFFFFF"
                    },
                    title: "Scores",
                    titleTextStyle:{
                        color: '#FFF',
                        fontSize: 20
                    },
                    gridlines: {
                        color: "#FFFFFF"
                    },
                    baselineColor: '#FFFFFF'
                },
                vAxis: {
                    title:"Lugares",
                    titleStyle:{
                        color: "#FFFFFF"
                    },
                    titleTextStyle:{
                        color: '#FFF',
                        fontSize: 20
                    },
                    textStyle: {
                        color: "#FFFFFF"
                    },
                    gridlines: {
                        color: "#FFFFFF"
                    },
                    baselineColor: '#FFFFFF'
                },
            };
            let chart = new google.visualization.ColumnChart(document.getElementById("scores"));
            chart.draw(scores, options);
        }

    </script>
    </html>
    
    